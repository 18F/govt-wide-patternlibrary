@mixin breadcrumb-icon {
  @include add-background-svg("#{$theme-breadcrumb-icon}");
  background-size: units($theme-breadcrumb-icon-size);
  background-position: center;
  background-repeat: no-repeat;
  content: "";
  display: inline-block;
  padding: units($theme-breadcrumb-icon-size);
}

.usa-breadcrumb {
  @include u-margin-bottom($theme-breadcrumb-margin-top);
  @include u-margin-top($theme-breadcrumb-margin-bottom);
}

.usa-breadcrumb__list {
  @include unstyled-list;

  @include at-media($theme-breadcrumb-min-width) {
    // @include u-display("flex");
    // @include u-flex("wrap");
  }
}

.usa-breadcrumb__list-item {
  @include sr-only;
  display: inline-block;

  @include at-media-max("mobile-lg") {
    &:nth-last-child(2) {
      @include not-sr-only;

      .usa-breadcrumb__link {
        @include button-unstyled;
        padding: units(1.5) units(2.5);
      }

      .usa-breadcrumb__link::before {
        @include breadcrumb-icon;
        @include u-margin-right(1);
        transform: scaleX(-1);
      }
    }
  }

  @include at-media($theme-breadcrumb-min-width) {
    @include not-sr-only;

    &:not(:last-child)::after {
      @include breadcrumb-icon;
      @include u-margin-x($theme-breadcrumb-margin-top);
    }
  }
}

.usa-breadcrumb__link {
  color: color($theme-link-color);
  display: inline-flex;
}

// ---------------------------------
// Variations
// ---------------------------------

// No wrap
// ---------------------------------
.usa-breadcrumb--nowrap {

  .usa-breadcrumb__list {
    @include u-flex("no-wrap");
    @include u-white-space("no-wrap");
    display: inherit;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .usa-breadcrumb__list-item {
    @include u-display("inline");

    @include at-media-max("mobile-lg") {
      &:nth-last-child(2) .usa-breadcrumb__link {
        display: inline;
      }
    }
  }
}
