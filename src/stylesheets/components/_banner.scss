$theme-banner-font: sans;

.#{ns('component')} {
  &banner {
    @include bg-color('base', 'lighter');

    @include at-media('tablet') {
      @include padding-bottom(0);
      @include size($theme-banner-font, '3xs');
    }
  }
}

.#{ns('component')} {
  &banner-content {
    @include bg-color('transparent');
    @include grid-container($site-max-width);
    @include padding-bottom(1.5);
    @include padding-top(2px);
    @include padding-x(1);
    @include size($theme-banner-font, 3);
    @include width('full');

    @include at-media('tablet') {
      @include padding-y(3);
    }

    @include at-media('desktop') {
      @include padding-x($theme-site-margins);
    }

    p:first-child {
      @include margin(0);
    }
  }
}

.#{ns('component')}banner-guidance-gov {
  @include padding-top(2);

  @include at-media('tablet') {
    @include padding-top(0);
  }
}

.#{ns('component')}banner-guidance-ssl {
  @include padding-top(2);

  @include at-media('tablet') {
    @include padding-top(0);
  }
}

.#{ns('component')}banner-inner {
  @include flex('align-start');
  @include grid-row;
  @include grid-container($site-max-width);
  @include padding-left($theme-site-margins-mobile);
  @include padding-right(0);
  @include padding-x(1);

  @include at-media('tablet') {
    @include flex('align-center');
  }

  @include at-media('desktop') {
    @include padding-x($theme-site-margins);
  }
}

.#{ns('component')}banner-header {
  @include padding-y(1);
  @include position('relative');
  @include size($theme-banner-font, 1);
  @include text('normal');

  @include at-media('tablet') {
    @include padding-y('05');
  }

  &-close-text {
    @include color('base', 'dark');
    @include display('none');
    @include line-height($theme-banner-font, 2);
    @include margin-y(0);
    @include padding-top('05');
    @include size($theme-banner-font, 1);

    .#{ns('component')}banner-header-expanded & {
      @include display('block');

      @include at-media('tablet') {
        @include display('none');
      }
    }
  }

  &-text {
    @include line-height($theme-banner-font, 2);
    @include margin-y(0);
    @include size($theme-banner-font, 1);
    .#{ns('component')}banner-header-expanded & {
      @include display('none');

      @include at-media('tablet') {
        @include display('block');
      }
    }
  }

  &-action {
    @include add-icon(angle-arrow-down-primary, after, spacing(1), 0, hover);
    @include line-height($theme-banner-font, 2);
    @include margin-bottom(0);
    @include margin-top(2px);
    @include color('primary');

    @include at-media('tablet') {
      @include display('none');
    }

    .#{ns('component')}banner-header-expanded & {
      @include display('none');
    }

    &:after {
      @include margin-left('05');
    }
  }

  &-flag {
    @include float('left');
    @include margin-right(1);
    @include width(2);

    @include at-media('tablet') {
      @include margin-right(1);
      @include padding-top(0);
    }

    .#{ns('component')}banner-header-expanded & {
      @include display('none');

      @include at-media('tablet') {
        @include display('block');
      }
    }
  }
}

.#{ns('component')}banner-header-expanded {
  @include minh(4);

  @include at-media('tablet') {
    @include border-bottom(1px, $red-50v);
    @include display('block');
    @include minh(0);
    @include padding-right(0);
    @include size($theme-banner-font, 1);
    @include text('normal');
  }

  > .#{ns('component')}banner-inner {
    @include margin-left(0);

    @include at-media('tablet') {
      @include margin-left('auto');
    }
  }
}

.#{ns('component')}banner-button {
  @include add-pin('left');
  @include button-unstyled;
  @include color('primary');
  @include display(block);
  @include size($theme-banner-font, 1);
  @include width('full');

  @include at-media('tablet') {
    @include add-pin('none');
    @include add-icon(angle-arrow-down-primary, after, spacing(1), 0, hover);
    @include display(inline);
    @include height(auto);
    @include line-height($theme-banner-font, 2);
    @include margin-left(1);
    @include padding-top(0);
    @include padding-left(0);
    @include position(relative);
    @include text(underline);
    @include vertical-align(middle);
    @include width(auto);

    &::after {
      @include margin-left('05');
    }

    &:hover {
      @include color(primary, darker);
      @include text(underline);
    }
  }

  /* stylelint-disable selector-no-qualifying-type */

  &[aria-expanded=false] {
    background-image: none;
  }

  &[aria-expanded=true] {
    @include add-icon(close, after, spacing(1.5), 0, no-hover);
    background-image: none;

    @include at-media('tablet') {
      @include add-icon(angle-arrow-up-primary, after, spacing(1), 0, hover);
      @include height(auto);
      @include padding(0);
      @include position(relative);
      &::after {
        @include margin-left('05');
      }
    }

    /* stylelint-enable */

    &::after {
      @include position(absolute);
      @include right(2);
      @include top(1.5);

      @include at-media('tablet') {
        @include position(static);
      }
    }
  }
}

.#{ns('component')}banner-button-text {
  @include add-sr-only;

  @include at-media('tablet') {
    @include add-no-sr-only;
    @include display('inline');
  }
}

.#{ns('component')}banner-icon {
  @include width(5);
}
