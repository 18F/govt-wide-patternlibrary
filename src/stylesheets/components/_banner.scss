$theme-banner-font: sans;

.#{ns('component')}banner {
  @include bg('gray', 'lighter');
  @include padding-bottom(1);
  @include at-media('mobile-lg') {
    @include padding-bottom(0);
    @include size($theme-banner-font, '3xs')
  }
}

.#{ns('component')}banner-content {
  @include bg('transparent');
  @include padding-bottom(105);
  @include padding-top(2px);
  @include padding-x($theme-site-margins-mobile);
  @include size($theme-banner-font, 4);
  @include width('full');
  @include at-media('tablet') {
    @include padding-y(3);
  }

  @include at-media('desktop') {
    @include padding-x($theme-site-margins);
  }

  p {
    &:first-child {
      @include margin(0);
    }
  }
}

.#{ns('component')}banner-guidance-gov,
.#{ns('component')}banner-guidance-ssl {
  @include padding-top(2);
  @include at-media('tablet'){
    @include padding-top(0);
  }
}

.#{ns('component')}banner-inner {
  // TODO: outer-container; grid mixins
  @include outer-container($site-max-width);
  @include padding-left($theme-site-margins-mobile);
  @include padding-right(0);
  @include at-media('desktop') {
    @include padding-x($theme-site-margins);
  }
}

.#{ns('component')}banner-header {
  @include padding-y(1);
  @include size($theme-banner-font, 1);
  @include text('normal');

  @include at-media('mobile-lg') {
    @include padding-y(0);
  }

  p {
    @include margin-y(0);
    @include display('inline');
    @include line-height($theme-banner-font, 1);
    @include overflow('hidden');
    @include vertical-align('middle');

    @include at-media('mobile-lg') {
      @include margin-y(2px);
      @include display('inline-block');
    }
  }

  img {
    @include float('left');
    @include margin-right(1);
    @include padding-top('05');
    @include width(2);
    @include at-media('mobile-lg') {
      @include margin-right(1);
      @include padding-top(0);
      @include width(205);
    }
  }
}

.#{ns('component')}banner-header-expanded {
  @include border-bottom(1px);
  @include border-color('gray', 'light');
  @include display('flex');
  @include flex('align-center');
  @include minh(7);
  @include padding-right(4);
  @include size($theme-banner-font, 4);

  @include at-media('mobile-lg') {
    @include border-bottom(0);
    @include display('block');
    @include minh(0);
    @include padding-right(0);
    @include size($theme-banner-font, 1);
    @include text('normal');
  }

  > .usa-banner-inner {
    @include margin-left(0);
    @include at-media('mobile-lg') {
      @include margin-left('auto');
    }
  }

  img {
    @include margin-right(3);
    @include at-media('mobile-lg') {
      @include margin-right(1);
    }
  }

  p {
    @include line-height($theme-banner-font, 2);
    @include vertical-align('top');
    @include at-media('mobile-lg') {
      @include line-height($theme-banner-font, 4);
      @include vertical-align('middle');
    }
  }
}

.#{ns('component')}banner-button {
  @include button-unstyled;
  @include color('primary');
  @include display('block');
  @include height(6);
  @include left(0);
  @include padding-top('05');
  @include padding-left(5);
  @include position('absolute');
  @include size($theme-banner-font, 1);
  @include top(0);
  @include text('underline');
  @include width('full');
  background-position-x: right;

  @include at-media('mobile-lg') {
    @include display('inline');
    @include height('auto');
    @include margin-left('05');
    @include padding-top(0);
    @include padding-left(0);
    @include position('relative');
    @include vertical-align('middle');
    @include width('auto');
  }

  &:hover {
    @include color('primary', 'darker');
    @include text('underline');
  }

  &[aria-expanded=false] {
    @include display-icon(angle-arrow-down-primary, after, spacing(1), 0, hover);
    background-image: none;

    &::after {
      background-position-y: 1px;
    }
  }

  &[aria-expanded=true] {
    @include display-icon(close, after, spacing(105), 0, no-hover);
    background-image: none;
    @include height(7);

    @include at-media('mobile-lg') {
      @include display-icon(angle-arrow-up-primary, after, spacing(1), 0, hover);
      height: initial;
      @include padding(0);
      @include position('relative');

      &::after {
        background-position-y: 1px;
      }
    }

    &::after {
      @include position('absolute');
      @include right(2);
      @include top(205);
      @include at-media('mobile-lg') {
        @include position('static');
      }
    }

    .#{ns('component')}banner-button-text {
      @include display('none');
      @include at-media('mobile-lg') {
        @include display('inline');
      }
    }
  }
}

.#{ns('component')}banner-icon {
  @include width(5);
}
