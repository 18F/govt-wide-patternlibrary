@mixin usa-texts {
  .usa-text-body {
    @extend %usa-text-body;
  }

  .usa-text-intro {
    @include typeset(
      $theme-lead-font-family,
      $theme-lead-font-size,
      $theme-lead-line-height
    );
    font-weight: $theme-font-weight-normal;
    max-width: measure($theme-lead-measure);
  }
}

@mixin usa-headings {

  @if $theme-heading-3xl-assign {
    .usa-heading-#{$theme-heading-3xl-assign} {
      @extend %usa-heading-3xl;
    }
  }

  @if $theme-heading-2xl-assign {
    .usa-heading-#{$theme-heading-2xl-assign} {
      @extend %usa-heading-2xl;
    }
  }

  @if $theme-heading-xl-assign {
    .usa-heading-#{$theme-heading-xl-assign} {
      @extend %usa-heading-xl;
    }
  }

  @if $theme-heading-lg-assign {
    .usa-heading-#{$theme-heading-lg-assign} {
      @extend %usa-heading-lg;
    }
  }

  @if $theme-heading-md-assign {
    .usa-heading-#{$theme-heading-md-assign} {
      @extend %usa-heading-md;
    }
  }

  @if $theme-heading-sm-assign {
    .usa-heading-#{$theme-heading-sm-assign} {
      @extend %usa-heading-sm;
    }
  }

  @if $theme-heading-xs-assign {
    .usa-heading-#{$theme-heading-xs-assign} {
      @extend %usa-heading-xs;
    }
  }

  @if $theme-heading-2xs-assign {
    .usa-heading-#{$theme-heading-2xs-assign} {
      @extend %usa-heading-2xs;
    }
  }

  @if $theme-heading-3xs-assign {
    .usa-heading-#{$theme-heading-3xs-assign} {
      @extend %usa-heading-3xs;
    }
  }

  .usa-heading-3xl {
    @extend %usa-heading-3xl;
  }

  .usa-heading-2xl {
    @extend %usa-heading-2xl;
  }

  .usa-heading-xl {
    @extend %usa-heading-xl;
  }

  .usa-heading-lg {
    @extend %usa-heading-lg;
  }

  .usa-heading-md {
    @extend %usa-heading-md;
  }

  .usa-heading-sm {
    @extend %usa-heading-sm;
  }

  .usa-heading-xs {
    @extend %usa-heading-xs;
  }

  .usa-heading-2xs {
    @extend %usa-heading-2xs;
  }

  .usa-heading-3xs {
    @extend %usa-heading-3xs;
  }
}

html {
  @include add-kerning;
  font-family: font-family($theme-body-font-family);
  font-size: $root-font-size;
}

@if $theme-style-body-element {
  body {
    @include typeset;
  }
}

.usa-prose {
  @include typeset($theme-prose-font-family);
  // TODO: check that adjacency selectors are working properly in context
  @include usa-headings;
  @include usa-texts;
  & > {
    @include usa-content-styles;
  }
}

@if $theme-global-paragraph-styles == true {
  @include usa-paragraph-style;
}

@if $theme-global-link-styles == true {
  @include usa-link-style;
}

@if $theme-global-content-styles == true {
  @include usa-content-styles;
}

.usa-paragraph {
  @include typeset-p;
}

.usa-link {
  @include typeset-link;
}

// External link consider "effortless style approach":
// [href^="http:"]:not([href*="my-domain.com"])
// [href^="https:"]:not([href*="my-domain.com"])

.usa-external-link {
  @include external-link(external-link, external-link-hover);
}

.usa-external-link-alt {
  @include external-link(external-link-alt, external-link-alt-hover);
}

// Remove user agent styles

cite,
var,
address,
dfn {
  font-style: normal;
}

// Custom typography

.usa-content {
  p,
  ul:not(.usa-accordion):not(.usa-accordion--bordered),
  ol:not(.usa-accordion):not(.usa-accordion--bordered) {
    max-width: measure($theme-text-measure);
  }
}

.usa-content-list {
  max-width: measure($theme-text-measure);
}

.usa-display {
  @include typeset-heading-lg;
  margin-bottom: 0;

  @include at-media('mobile-lg') {
    @include typeset-heading-2xl;
  }

  @include at-media('tablet') {
    @include typeset-heading-3xl;
  }
}

@include usa-headings;
@include usa-texts;

.usa-dark-background {
  @include add-knockout-font-smoothing;
  background-color: color('base-darker');

  p,
  span {
    color: color('white');
  }

  a {
    color: color('base-lighter');

    &:hover {
      color: color('white');
    }
  }
}

%usa-text-body {
  @include typeset-p;
}

%usa-paragraph {
  @include typeset-p;
}

%usa-heading-3xl {
  @include typeset-heading-3xl;
}

%usa-heading-2xl {
  @include typeset-heading-2xl;
}

%usa-heading-xl {
  @include typeset-heading-xl;
}

%usa-heading-lg {
  @include typeset-heading-lg;
}

%usa-heading-md {
  @include typeset-heading-md;
}

%usa-heading-sm {
  @include typeset-heading-sm;
}

%usa-heading-xs {
  @include typeset-heading-xs;
}

%usa-heading-2xs {
  @include typeset-heading-2xs;
}

%usa-heading-3xs {
  @include typeset-heading-3xs;
}

%usa-heading {
  @include typeset-heading;
}
