@use "uswds-core" as *;

.usa-in-page-navigation.usa-sidenav {
  background-color: initial;
  border: none;
  border-left: units(1px) solid color("base-lighter");
  font-size: 0.85rem;
  padding: 0;

  a {
    color: color("base-darker");
    
    &:not(.usa-button) {
      padding: 0.3rem 0.8rem;
    }

    &:hover {
      background-color: transparent;
      color: color("primary-vivid");
    }

    &.usa-current {
      color: color("base-darker");
      position: static;

      &::after {
        border-radius: 0;
        background-color: color("secondary-dark");
        bottom: units(-1px);
        left: units(0);
        top: units(0);
        width: units(2px);
        z-index: z(100);
      }
    }
  }

  .usa-in-page-navigation__item {
    @include u-border(0);
    line-height: lh("lang", 3);
    position: relative;

    &+.usa-sidenav__item {
      a {
        border-top: none;
      }
    }

    &.is-current {
      background-color: color("base-lightest");

      .is-current {
        background-color: transparent;
      }
    }
  }
}

.in-page-nav-container {
  align-items: flex-start;
  display: flex;

  #main-content {
    max-width: 87.5rem;
    width: 100%;
  }

  #in-page-navigation {
    display: none;
    margin-top: 2.5rem;
    max-width: units("card-lg");
    position: sticky;
    top: 4rem;

    @include at-media("tablet") {
      display: block;
      width: 100%;
    }
  }

  .offset-anchor {
    display: block;
    position: relative;
    top: -20px;
    visibility: hidden;
  }
}